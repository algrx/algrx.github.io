{"componentChunkName":"component---src-templates-example-tsx","path":"/examples/canvas/message/","result":{"data":{"markdownRemark":{"html":"<p>Run a function when an animation finishes:</p>\n<data type='yaml'>\ntype: algorithmx-example\ncode:\n  js: |\n    canvas.nodes([1, 2, 3, 4, 5]).add({\n        pos: (n, i) => [(i - 2) * 50, 0]\n    })\n    canvas.pause(0.5)\n    \n    for (let i = 1; i < 6; i++) {\n        canvas.node(i).size('1.5x').color('orange').pause(0.5)\n    }\n    \n    canvas.onmessage('finished', () => {\n        canvas.label('title').add({ text: 'Animation complete' })\n    })\n    canvas.message('finished')\n  python: |\n    canvas.nodes([1, 2, 3, 4, 5]).add(\n        pos=lambda n, i: ((i - 2) * 50, 0)\n    )\n    canvas.pause(0.5)\n    \n    for i in range(1, 6):\n        canvas.node(i).size('1.5x').color('orange').pause(0.5)\n    \n    def finished():\n        canvas.label('title').add(text='Animation complete')\n    \n    canvas.onmessage('finished', finished)\n    canvas.message('finished')\n</data>\n<p>Send and listen for messages:</p>\n<data type='yaml'>\ntype: algorithmx-example\ncode:\n  js: |\n    canvas.node('b').add({\n        shape: 'rect',\n        size: [40, 20],\n        fixed: true,\n        pos: [-80, 0],\n        labels: { 0: { text: 'Broadcast\\n(Click me)' } }\n    })\n    canvas.node('r').add({\n        shape: 'rect',\n        size: [40, 20],\n        fixed: true,\n        pos: [80, 0],\n        labels: { 0: { text: 'Received' } }\n    })\n    \n    canvas.edge(['b', 'r']).add({ directed: true })\n    \n    canvas.onmessage('click', () => {\n        canvas.edge(['b', 'r']).highlight(0).traverse('red')\n        canvas.node('r').highlight(0).color('red')\n    })\n    \n    canvas.node('b').onclick(() => canvas.message('click'))\n  python: |\n    canvas.node('b').add(\n        shape='rect',\n        size=(40, 20),\n        fixed=True,\n        pos=(-80, 0),\n        labels={0: {'text': 'Broadcast\\n(Click me)'}}\n    )\n    canvas.node('r').add(\n        shape='rect',\n        size=(40, 20),\n        fixed=True,\n        pos=(80, 0),\n        labels={0: {'text': 'Received'}}\n    )\n    \n    canvas.edge(('b', 'r')).add(directed=True)\n    \n    def on_msg():\n         canvas.edge(('b', 'r')).highlight(0).traverse('red')\n         canvas.node('r').highlight(0).color('red')\n    \n    canvas.onmessage('click', on_msg)\n    \n    canvas.node('b').onclick(lambda: canvas.message('click'))\n</data>","fields":{"slug":"/examples/canvas/message/"},"frontmatter":{"title":"Message","docs":["Canvas.message","Canvas.onmessage"]}},"file":{"childJsonData":{"entries":[{"type":"folder","name":"Element","path":"element/"},{"type":"folder","name":"Canvas","path":"canvas/"},{"type":"folder","name":"Node","path":"node/"},{"type":"folder","name":"Edge","path":"edge/"},{"type":"folder","name":"Label","path":"label/"},{"type":"folder","name":"Queue","path":"queue/"}]}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/examples/canvas/edge-layout/"},"frontmatter":{"title":"Edge Layout"}}},{"node":{"fields":{"slug":"/examples/canvas/edges/"},"frontmatter":{"title":"Edges"}}},{"node":{"fields":{"slug":"/examples/canvas/labels/"},"frontmatter":{"title":"Labels"}}},{"node":{"fields":{"slug":"/examples/canvas/message/"},"frontmatter":{"title":"Message"}}},{"node":{"fields":{"slug":"/examples/canvas/pan-zoom-limits/"},"frontmatter":{"title":"Pan & Zoom Limits"}}},{"node":{"fields":{"slug":"/examples/canvas/size/"},"frontmatter":{"title":"Size"}}},{"node":{"fields":{"slug":"/examples/canvas/svgattr/"},"frontmatter":{"title":"SVG Attributes"}}},{"node":{"fields":{"slug":"/examples/edge/color/"},"frontmatter":{"title":"Color"}}},{"node":{"fields":{"slug":"/examples/edge/curve/"},"frontmatter":{"title":"Curve"}}},{"node":{"fields":{"slug":"/examples/edge/directed/"},"frontmatter":{"title":"Directed"}}},{"node":{"fields":{"slug":"/examples/edge/flip/"},"frontmatter":{"title":"Flip"}}},{"node":{"fields":{"slug":"/examples/edge/labels/"},"frontmatter":{"title":"Labels"}}},{"node":{"fields":{"slug":"/examples/edge/length/"},"frontmatter":{"title":"Length"}}},{"node":{"fields":{"slug":"/examples/edge/path/"},"frontmatter":{"title":"Path"}}},{"node":{"fields":{"slug":"/examples/edge/svgattr/"},"frontmatter":{"title":"SVG Attributes"}}},{"node":{"fields":{"slug":"/examples/edge/thickness/"},"frontmatter":{"title":"Thickness"}}},{"node":{"fields":{"slug":"/examples/edge/traverse/"},"frontmatter":{"title":"Traverse"}}},{"node":{"fields":{"slug":"/examples/element/add/"},"frontmatter":{"title":"Add"}}},{"node":{"fields":{"slug":"/examples/element/attrs/"},"frontmatter":{"title":"Attributes"}}},{"node":{"fields":{"slug":"/examples/element/data/"},"frontmatter":{"title":"Data"}}},{"node":{"fields":{"slug":"/examples/element/duration/"},"frontmatter":{"title":"Duration"}}},{"node":{"fields":{"slug":"/examples/element/ease/"},"frontmatter":{"title":"Ease"}}},{"node":{"fields":{"slug":"/examples/element/highlight/"},"frontmatter":{"title":"Highlight"}}},{"node":{"fields":{"slug":"/examples/element/remove/"},"frontmatter":{"title":"Remove"}}},{"node":{"fields":{"slug":"/examples/element/visible/"},"frontmatter":{"title":"Visible"}}},{"node":{"fields":{"slug":"/examples/element/withQ/"},"frontmatter":{"title":"With Queue"}}},{"node":{"fields":{"slug":"/examples/label/align/"},"frontmatter":{"title":"Align"}}},{"node":{"fields":{"slug":"/examples/label/color/"},"frontmatter":{"title":"Color"}}},{"node":{"fields":{"slug":"/examples/label/font/"},"frontmatter":{"title":"Font"}}},{"node":{"fields":{"slug":"/examples/label/pos/"},"frontmatter":{"title":"Pos"}}},{"node":{"fields":{"slug":"/examples/label/radius-angle/"},"frontmatter":{"title":"Radius & Angle"}}},{"node":{"fields":{"slug":"/examples/label/rotate/"},"frontmatter":{"title":"Rotate"}}},{"node":{"fields":{"slug":"/examples/label/size/"},"frontmatter":{"title":"Size"}}},{"node":{"fields":{"slug":"/examples/label/svgattr/"},"frontmatter":{"title":"SVG Attributes"}}},{"node":{"fields":{"slug":"/examples/label/text/"},"frontmatter":{"title":"Text"}}},{"node":{"fields":{"slug":"/examples/node/click/"},"frontmatter":{"title":"Click"}}},{"node":{"fields":{"slug":"/examples/node/color/"},"frontmatter":{"title":"Color"}}},{"node":{"fields":{"slug":"/examples/node/fixed-draggable/"},"frontmatter":{"title":"Fixed & Draggable"}}},{"node":{"fields":{"slug":"/examples/node/hover/"},"frontmatter":{"title":"Hover"}}},{"node":{"fields":{"slug":"/examples/node/labels/"},"frontmatter":{"title":"Labels"}}},{"node":{"fields":{"slug":"/examples/node/pos/"},"frontmatter":{"title":"Pos"}}},{"node":{"fields":{"slug":"/examples/node/shape/"},"frontmatter":{"title":"Shape"}}},{"node":{"fields":{"slug":"/examples/node/size/"},"frontmatter":{"title":"Size"}}},{"node":{"fields":{"slug":"/examples/node/svgattr/"},"frontmatter":{"title":"SVG Attributes"}}},{"node":{"fields":{"slug":"/examples/queue/clear/"},"frontmatter":{"title":"Clear"}}},{"node":{"fields":{"slug":"/examples/queue/pause/"},"frontmatter":{"title":"Pause"}}},{"node":{"fields":{"slug":"/examples/queue/stop-start/"},"frontmatter":{"title":"Stop & Start"}}},{"node":{"fields":{"slug":"/examples/canvas/nodes/"},"frontmatter":{"title":"Nodes"}}},{"node":{"fields":{"slug":"/examples/canvas/pan-zoom/"},"frontmatter":{"title":"Pan & Zoom"}}}]}},"pageContext":{"slug":"/examples/canvas/message/"}},"staticQueryHashes":["2566514763","2566514763"]}